<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Team Member Role Specification Form</title>
    <link rel="stylesheet" href="../CSS/form2.css" />
  </head>
  <body>
    <div class="status">
      <img src="../Images/logo.jpg" alt="SKIT Logo" class="logo" />
    </div>

    <div class="form-container">
      <h1>Role Specification of Team Members [Form - 2]</h1>
      <h2>Project ID: <span class="project-id">ATG1-001</span></h2>

      <!-- Member 1 Details -->
      <div class="member-details">
        <h3>Member 1: <input type="text" name="member1-name" /></h3>
        <label>Handling Module:</label>
        <input type="text" name="member1-module" />

        <div class="table-container">
          <table id="member1-activities">
            <tr>
              <th>Name of Activity</th>
              <th>Soft Deadline Date</th>
              <th>Hard Deadline Date</th>
              <th>Details of Activity (Story)</th>
              <th></th>
            </tr>
            <tr>
              <td><input type="text" name="activity1-name" /></td>
              <td><input type="date" name="activity1-soft" /></td>
              <td><input type="date" name="activity1-hard" /></td>
              <td><input type="text" name="activity1-details" /></td>
              <td>
                <button type="button" onclick="deleteRow(this)">Delete</button>
              </td>
            </tr>
          </table>
        </div>
        <button type="button" onclick="addRow('member1-activities')">
          Add Activity
        </button>
      </div>

      <!-- Member 2 Details -->
      <div class="member-details">
        <h3>Member 2: <input type="text" name="member2-name" /></h3>
        <label>Handling Module:</label>
        <input type="text" name="member2-module" />

        <div class="table-container">
          <table id="member2-activities">
            <tr>
              <th>Name of Activity</th>
              <th>Soft Deadline Date</th>
              <th>Hard Deadline Date</th>
              <th>Details of Activity (Story)</th>
              <th></th>
            </tr>
            <tr>
              <td><input type="text" name="activity2-name" /></td>
              <td><input type="date" name="activity2-soft" /></td>
              <td><input type="date" name="activity2-hard" /></td>
              <td><input type="text" name="activity2-details" /></td>
              <td>
                <button type="button" onclick="deleteRow(this)">Delete</button>
              </td>
            </tr>
          </table>
        </div>
        <button type="button" onclick="addRow('member2-activities')">
          Add Activity
        </button>
      </div>

      <!-- Member 3 Details -->
      <div class="member-details">
        <h3>Member 3: <input type="text" name="member3-name" /></h3>
        <label>Handling Module:</label>
        <input type="text" name="member3-module" />

        <div class="table-container">
          <table id="member3-activities">
            <tr>
              <th>Name of Activity</th>
              <th>Soft Deadline Date</th>
              <th>Hard Deadline Date</th>
              <th>Details of Activity (Story)</th>
              <th></th>
            </tr>
            <tr>
              <td><input type="text" name="activity3-name" /></td>
              <td><input type="date" name="activity3-soft" /></td>
              <td><input type="date" name="activity3-hard" /></td>
              <td><input type="text" name="activity3-details" /></td>
              <td>
                <button type="button" onclick="deleteRow(this)">Delete</button>
              </td>
            </tr>
          </table>
        </div>
        <button type="button" onclick="addRow('member3-activities')">
          Add Activity
        </button>
      </div>

      <!-- Member 4 Details -->
      <div class="member-details">
        <h3>Member 4: <input type="text" name="member4-name" /></h3>
        <label>Handling Module:</label>
        <input type="text" name="member4-module" />

        <div class="table-container">
          <table id="member4-activities">
            <tr>
              <th>Name of Activity</th>
              <th>Soft Deadline Date</th>
              <th>Hard Deadline Date</th>
              <th>Details of Activity (Story)</th>
              <th></th>
            </tr>
            <tr>
              <td><input type="text" name="activity4-name" /></td>
              <td><input type="date" name="activity4-soft" /></td>
              <td><input type="date" name="activity4-hard" /></td>
              <td><input type="text" name="activity4-details" /></td>
              <td>
                <button type="button" onclick="deleteRow(this)">Delete</button>
              </td>
            </tr>
          </table>
        </div>
        <button type="button" onclick="addRow('member4-activities')">
          Add Activity
        </button>
      </div>

      <!-- Photo Upload -->
      <div class="photo-upload">
        <label for="photo-upload">Upload Photo:</label>
        <input
          type="file"
          id="photo-upload"
          accept="image/*"
          onchange="previewPhoto()"
        />
        <div id="photo-preview-container">
          <img
            id="photo-preview"
            alt="Photo Preview"
            style="display: none; max-width: 200px; margin-top: 10px"
          />
        </div>
      </div>

      <!-- Mentor Signature -->
      <div class="mentor-signature">
        <hr />
        <label>Mentorâ€™s Name & Signature</label>
      </div>

      <button type="submit" class="submit-btn">Submit</button>
    </div>

    <script>
      // Function to add a new row in the specified table
      function addRow(tableId) {
        const table = document.getElementById(tableId);
        const newRow = table.insertRow(table.rows.length); // Insert at the end of the table
        const rowIndex = table.rows.length; // New row index for unique input names
        newRow.innerHTML = `
          <td><input type="text" name="activity${rowIndex}-name" /></td>
          <td><input type="date" name="activity${rowIndex}-soft" /></td>
          <td><input type="date" name="activity${rowIndex}-hard" /></td>
          <td><input type="text" name="activity${rowIndex}-details" /></td>
          <td><button type="button" onclick="deleteRow(this)">Delete</button></td>
        `;
      }

      // Function to delete a row from the table
      function deleteRow(button) {
        const row = button.parentNode.parentNode; // Get the row of the clicked button
        row.remove();
      }

      // Function to preview the uploaded photo
      function previewPhoto() {
        const fileInput = document.getElementById("photo-upload");
        const preview = document.getElementById("photo-preview");
        const file = fileInput.files[0];

        if (file) {
          const reader = new FileReader();

          reader.onload = function (e) {
            preview.src = e.target.result;
            preview.style.display = "block";
          };

          reader.readAsDataURL(file);
        } else {
          preview.src = "";
          preview.style.display = "none";
        }
      }
    </script>
  </body>
</html>
